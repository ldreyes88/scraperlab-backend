scraperlab-backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ database.js                 (ConfiguraciÃ³n DynamoDB)
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ scraper.js                  (Endpoints de scraping)
â”‚   â”‚   â”œâ”€â”€ providers.js                (CRUD de proveedores)
â”‚   â”‚   â”œâ”€â”€ domains.js                  (CRUD de dominios/configuraciones)
â”‚   â”‚   â””â”€â”€ process.js                  (Logs y estadÃ­sticas)
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ ScraperService.js           (LÃ³gica de scraping principal)
â”‚   â”‚   â”œâ”€â”€ ProviderService.js          (GestiÃ³n de proveedores)
â”‚   â”‚   â”œâ”€â”€ DomainConfigService.js      (GestiÃ³n de configuraciones)
â”‚   â”‚   â””â”€â”€ ProcessService.js           (GestiÃ³n de logs)
â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”œâ”€â”€ ProviderRepository.js       (Acceso a Providers table)
â”‚   â”‚   â”œâ”€â”€ DomainRepository.js         (Acceso a Domains table)
â”‚   â”‚   â””â”€â”€ ProcessRepository.js        (Acceso a Process table)
â”‚   â”œâ”€â”€ strategies/
â”‚   â”‚   â”œâ”€â”€ BaseStrategy.js             (Clase base para providers)
â”‚   â”‚   â”œâ”€â”€ ScraperAPIStrategy.js       (ImplementaciÃ³n ScraperAPI)
â”‚   â”‚   â”œâ”€â”€ OxylabsStrategy.js          (ImplementaciÃ³n Oxylabs)
â”‚   â”‚   â”œâ”€â”€ StrategyFactory.js          (Factory pattern)
â”‚   â”‚   â””â”€â”€ domain/
â”‚   â”‚       â”œâ”€â”€ BaseDomainStrategy.js   (Clase base para dominios)
â”‚   â”‚       â”œâ”€â”€ FalabellaStrategy.js    (Scraping Falabella)
â”‚   â”‚       â”œâ”€â”€ ExitoStrategy.js        (Scraping Ã‰xito)
â”‚   â”‚       â””â”€â”€ MercadoLibreStrategy.js (Scraping MercadoLibre)
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ errorHandler.js             (Manejo global de errores)
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ helpers.js                  (Utilidades generales)
â”‚       â”œâ”€â”€ response.js                 (Formateo de respuestas)
â”‚       â””â”€â”€ time.js                     (Utilidades de tiempo)
â”œâ”€â”€ .cursor/
â”‚   â””â”€â”€ rules/                          (Reglas de Cursor)
â”‚       â”œâ”€â”€ project-architecture.mdc    (Arquitectura general)
â”‚       â”œâ”€â”€ services-patterns.mdc       (Patrones de servicios)
â”‚       â””â”€â”€ strategies-patterns.mdc     (Patrones de strategies)
â”œâ”€â”€ server.js                           (Servidor Express local)
â”œâ”€â”€ lambda.js                           (Handler para AWS Lambda)
â”œâ”€â”€ serverless.yml                      (ConfiguraciÃ³n Serverless Framework)
â”œâ”€â”€ package.json
â”œâ”€â”€ .env                                (Variables de entorno locales)
â”œâ”€â”€ .env.example                        (Ejemplo de variables)
â”œâ”€â”€ README.md
â”œâ”€â”€ scraperlab-arquitecture.txt
â””â”€â”€ scraperlab-structure.txt

Node.js + Express + AWS Lambda + DynamoDB + Cheerio

âœ… Arquitectura en Capas:

- handlers/      (Controladores HTTP: validaciÃ³n, respuestas)
- services/      (LÃ³gica de negocio y orquestaciÃ³n)
- repositories/  (Acceso a datos DynamoDB)
- strategies/    (PatrÃ³n Strategy: providers y dominios)
- middleware/    (Manejo de errores, CORS, etc)
- utils/         (Funciones reutilizables)

âœ¨ PatrÃ³n Strategy:

Cada dominio (Falabella, Ã‰xito, MercadoLibre) tiene su propia estrategia
de extracciÃ³n que hereda de BaseDomainStrategy. Los providers externos
(ScraperAPI, Oxylabs) tambiÃ©n usan el patrÃ³n Strategy.

ðŸ“Š Flujo de Datos:

Handler â†’ Service â†’ Strategy/Repository â†’ Response

ðŸ”„ Beneficio:

SeparaciÃ³n clara entre:
- LÃ³gica HTTP (handlers)
- LÃ³gica de negocio (services)
- Acceso a datos (repositories)
- ExtracciÃ³n especÃ­fica por dominio (strategies)
